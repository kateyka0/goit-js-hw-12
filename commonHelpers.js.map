{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["\nconst refs = {\nimageForm: document.querySelector('.form'),\nimageInput: document.querySelector('.input'),\nsubmitButton: document.querySelector('.btn'),\nimageList: document.querySelector('.images-list'),\n}\n\nexport function renderImages(images) {\n\n    const markup = images.hits.map((image) => {\n       return `<li class=\"images-list-item\">\n  <a class=\"img-link\" href=${image.largeImageURL} onclick=\"event.preventDefault()\"><img class=\"img\" src=${image.webformatURL} alt=${image.tags}></img></a>\n   <ul class=\"img-dscr\">\n      <li class=\"img-data\">\n        <p class=\"img-data-title\">Likes</p>\n        <p class=\"img-data-numbers\">${image.likes}</p>\n      </li>\n      <li class=\"img-data\">\n        <p class=\"img-data-title\">Views</p>\n        <p class=\"img-data-numbers\">${image.views}</p>\n      </li>\n      <li class=\"img-data\">\n        <p class=\"img-data-title\">Comments</p>\n        <p class=\"img-data-numbers\">${image.comments}</p>\n      </li>\n      <li class=\"img-data\">\n        <p class=\"img-data-title\">Downloads</p>\n        <p class=\"img-data-numbers\">${image.downloads}</p>\n      </li>\n    </ul>\n</li>`;\n    }).join('\\n');\n\n    refs.imageList.innerHTML = markup;\n}","const refs = {\nimageForm: document.querySelector('.form'),\nimageInput: document.querySelector('.input'),\nsubmitButton: document.querySelector('.btn'),\nimageList: document.querySelector('.images-list'),\n}\n\nexport function getImages(request) {\nconst BASE_URL = 'https://pixabay.com';\nconst END_POINT = '/api/';\nconst PARAMS = new URLSearchParams({\n        key: '44332544-4246296cfd54d81c9e369dca1',\n        q:  request,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        page: 1,\n        per_page: 30,\n    });\n\nconst url = `${BASE_URL}${END_POINT}?${PARAMS}`;\nconsole.log(url);\n\nconst options = {\n        headers: {\n            'Access-Control-Allow-Origin': '*',\n            'Content - Type': 'application/json',\n\n            'X-RateLimit-Limit': '100',\n            'X-RateLimit-Remaining': '99',\n            'X-RateLimit-Reset': '0.6',\n    },\n}\n\nreturn fetch(url)\n.then(res => {\nif (res.ok) {\nreturn res.json();\n} else {\nthrow new Error(res.status);\n}\n});\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { renderImages } from \"./js/render-functions\";\nimport { getImages } from \"./js/pixabay-api\";\n\nconst refs = {\n    imageForm: document.querySelector('.form'),\n    imageInput: document.querySelector('.input'),\n    submitButton: document.querySelector('.btn'),\n    imageList: document.querySelector('.images-list'),\n    loader: document.querySelector('.loader'),\n}\n\nrefs.loader.style.display = 'none';\n\nlet request;\n\nrefs.imageForm.addEventListener('submit', (e) => {\n    e.preventDefault();\n    request = e.target.elements.userData.value;\n\n    if (request.trim() === '') {\n        refs.imageList.innerHTML = '';\n        return iziToast.info({\n            message: 'You need to enter search request!',\n            position: 'topRight',\n            transitionIn: 'bounceInDown',\n            transitionOut: 'fadeOutDown',\n        });\n    }\nconst loader = document.querySelector('.loader')\n        refs.loader.style.display = 'block';\n\n    getImages(request)\n        .then(images => {\n            if (images.hits.length === 0) {\n                refs.imageList.innerHTML = '';\n                return iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topRight',\n                    transitionIn: 'bounceInDown',\n                    transitionOut: 'fadeOutDown',\n                });\n            } else {\n                renderImages(images);\n\n                const lightbox = new SimpleLightbox('.images-list-item a', {\n                        captions: true,\n                        captionSelector: 'img',\n                        captionType: 'attr',\n                        captionsData: 'alt',\n                        captionPosition: 'bottom',\n                        captionDelay: 250,\n                        animationSpeed: 300,\n                        widthRatio: 1,\n                        heightRatio: 0.95,\n                        disableRightClick: true,\n                    });\n                    lightbox.refresh();\n}            \n        })\n        .then(() => refs.loader.style.display = 'none')\n        .catch(err => {\n            console.log(err);\n            refs.loader.style.display = 'none';\n        });\n    e.target.reset();\n})"],"names":["refs","renderImages","images","markup","image","getImages","request","BASE_URL","END_POINT","PARAMS","url","res","e","iziToast","SimpleLightbox","err"],"mappings":"6vBACA,MAAMA,EAAO,CACb,UAAW,SAAS,cAAc,OAAO,EACzC,WAAY,SAAS,cAAc,QAAQ,EAC3C,aAAc,SAAS,cAAc,MAAM,EAC3C,UAAW,SAAS,cAAc,cAAc,CAChD,EAEO,SAASC,EAAaC,EAAQ,CAEjC,MAAMC,EAASD,EAAO,KAAK,IAAKE,GACtB;AAAA,6BACeA,EAAM,aAAa,0DAA0DA,EAAM,YAAY,QAAQA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,sCAIxGA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,sCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,sCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,sCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,MAIhD,EAAE,KAAK;AAAA,CAAI,EAEZJ,EAAK,UAAU,UAAYG,CAC/B,CClCW,SAAS,cAAc,OAAO,EAC7B,SAAS,cAAc,QAAQ,EAC7B,SAAS,cAAc,MAAM,EAChC,SAAS,cAAc,cAAc,EAGzC,SAASE,EAAUC,EAAS,CACnC,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CAC3B,IAAK,qCACL,EAAIH,EACJ,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAM,EACN,SAAU,EAClB,CAAK,EAECI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAC7C,eAAQ,IAAIC,CAAG,EAaR,MAAMA,CAAG,EACf,KAAKC,GAAO,CACb,GAAIA,EAAI,GACR,OAAOA,EAAI,KAAI,EAEf,MAAM,IAAI,MAAMA,EAAI,MAAM,CAE1B,CAAC,CACD,CCjCA,MAAMX,EAAO,CACT,UAAW,SAAS,cAAc,OAAO,EACzC,WAAY,SAAS,cAAc,QAAQ,EAC3C,aAAc,SAAS,cAAc,MAAM,EAC3C,UAAW,SAAS,cAAc,cAAc,EAChD,OAAQ,SAAS,cAAc,SAAS,CAC5C,EAEAA,EAAK,OAAO,MAAM,QAAU,OAE5B,IAAIM,EAEJN,EAAK,UAAU,iBAAiB,SAAWY,GAAM,CAI7C,GAHAA,EAAE,eAAc,EAChBN,EAAUM,EAAE,OAAO,SAAS,SAAS,MAEjCN,EAAQ,KAAM,IAAK,GACnB,OAAAN,EAAK,UAAU,UAAY,GACpBa,EAAS,KAAK,CACjB,QAAS,oCACT,SAAU,WACV,aAAc,eACd,cAAe,aAC3B,CAAS,EAEM,SAAS,cAAc,SAAS,EACvCb,EAAK,OAAO,MAAM,QAAU,QAEhCK,EAAUC,CAAO,EACZ,KAAKJ,GAAU,CACZ,GAAIA,EAAO,KAAK,SAAW,EACvB,OAAAF,EAAK,UAAU,UAAY,GACpBa,EAAS,MAAM,CAClB,QAAS,2EACT,SAAU,WACV,aAAc,eACd,cAAe,aACnC,CAAiB,EAEDZ,EAAaC,CAAM,EAEF,IAAIY,EAAe,sBAAuB,CACnD,SAAU,GACV,gBAAiB,MACjB,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,aAAc,IACd,eAAgB,IAChB,WAAY,EACZ,YAAa,IACb,kBAAmB,EAC3C,CAAqB,EACQ,QAAO,CAEpC,CAAS,EACA,KAAK,IAAMd,EAAK,OAAO,MAAM,QAAU,MAAM,EAC7C,MAAMe,GAAO,CACV,QAAQ,IAAIA,CAAG,EACff,EAAK,OAAO,MAAM,QAAU,MACxC,CAAS,EACLY,EAAE,OAAO,OACb,CAAC"}